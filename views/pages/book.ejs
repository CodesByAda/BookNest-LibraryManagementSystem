<%- include("../components/header") %>

    <!-- Floating Back Button -->
    <div
        class="fixed bottom-10 right-10 h-[50px] w-[50px] bg-[#316de5] rounded-lg font-semibold flex items-center justify-center">
        <a href="/books" class="text-white h-full w-full text-center flex items-center justify-center">
            ‚Üê
        </a>
    </div>

    <!-- Book Details -->
    <div class="mt-4">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Left Section (Book Info) -->
            <div class="md:col-span-1">
                <img src="<%= book.coverImage %>" alt="Book Cover" class="w-full h-auto rounded-lg shadow-lg p-4">
                <p class="mt-4 text-gray-700"><strong>Availability:</strong>
                    <span id="availability" class="text-green-600">
                        <%= book.availability %>
                    </span>
                </p>
            </div>

            <!-- Right Section (Details & Actions) -->
            <div class="md:col-span-2 bg-white p-6 rounded-lg shadow-lg">
                <h1 class="text-3xl font-bold mb-2">
                    <%= book.bookname %>
                </h1>
                <p class="text-gray-600 mb-4">by <span class="font-semibold">
                        <%= book.authorname %>
                    </span></p>

                <p class="mb-4"><strong>Category:</strong>
                    <%= book.category %>
                </p>
                <p class="mb-4"><strong>Rack Location:</strong>
                    <%= book.rack_location %>
                </p>
                <p class="underline-offset-4"><strong><u>Description</u></strong></p>
                <p class="mb-4">
                    <%= book.description %>
                </p>

                <!-- User Actions -->
                <!-- <div class="space-y-4 mb-6">
                <button id="borrowBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Request to Borrow</button>
                <button id="wishlistBtn" class="bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded">Add to Wishlist</button>
                <button id="newCopyBtn" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded hidden">Request New Copy</button>
            </div> -->


                <%- include("../components/rating.ejs") %>
            </div>
        </div>
    </div>

    <!-- Star Rating Click Script -->
    <script>
        const stars = document.querySelectorAll('.rating-star');
        const ratingInput = document.getElementById('ratingValue');

        stars.forEach((star, index) => {
            star.addEventListener('click', () => {
                ratingInput.value = index + 1;
                stars.forEach((s, i) => {
                    s.classList.toggle('text-yellow-500', i <= index);
                    s.classList.toggle('text-gray-400', i > index);
                });
            });
        });
    </script>